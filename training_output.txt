ğŸ¯ Unified AQI Model Training Pipeline
ğŸ• Pipeline started at: 2025-11-12 02:03:18 PKT
======================================================================

============================================================
ğŸš€ Training RandomForest Model
â° Started at: 2025-11-12 02:03:21 PKT
============================================================
ğŸš€ Starting AQI Random Forest Training Pipeline...
============================================================
ğŸ“ Output directory: randomforest_additional/11_12_2025_0203_pkt

ğŸ“Š Step 1: Fetching data from Hopsworks...
ğŸ”— Connecting to Hopsworks project: anassale
2025-11-12 02:03:21,876 INFO: Initializing external client
2025-11-12 02:03:21,876 INFO: Base URL: https://c.app.hopsworks.ai:443
2025-11-12 02:03:22,640 INFO: Python Engine initialized.
Traceback (most recent call last):
  File "/home/runner/work/aqi-predictor-10-pearls/aqi-predictor-10-pearls/aqi_randomforest_training_pipeline.py", line 866, in main
    raise ValueError("âŒ No valid time series splits created")
ValueError: âŒ No valid time series splits created

Logged in to project, explore it here https://c.app.hopsworks.ai:443/p/1263764
âœ… Successfully connected to Hopsworks
âœ… Latest version of karachifeatures10: 7
ğŸ“¥ Retrieving features from: karachifeatures10 (v7)
ğŸ“‹ Retrieving all records...
Reading data from Hopsworks, using Hopsworks Feature Query Service.   Finished: Reading data from Hopsworks, using Hopsworks Feature Query Service (0.48s) 
ğŸ”„ Sorting data by datetime for chronological order...
âœ… Successfully retrieved 19 records
ğŸ“Š Shape: (19, 25)

ğŸ”§ Step 2: Preprocessing data...
ğŸ”§ Preprocessing data...
   ğŸ§¹ Handling missing values...
   ğŸ“Š Ensuring engineered features are properly calculated...
   â• Creating lag features for pollutants...
   â• Creating lag features for pm2_5_nowcast...
   â• Creating lag features for pm10_nowcast...
   â• Creating lag features for co_ppm_8hr_avg...
   â• Creating lag features for no2_ppb...
   âœ… After preprocessing: 19 records

ğŸ“Š Step 3: Creating time series splits...
ğŸ“Š Creating time series splits...
âš ï¸ Skipping split - insufficient training data: 4 samples
âš ï¸ Skipping split - insufficient training data: 7 samples
âš ï¸ Skipping split - insufficient training data: 10 samples
âš ï¸ Skipping split - insufficient training data: 13 samples
âš ï¸ Skipping split - insufficient training data: 16 samples
âœ… Created 0 time series splits

âŒ Error in training pipeline: âŒ No valid time series splits created

âœ… RandomForest training completed successfully!
   Result: (None, None, None)

============================================================
ğŸš€ Training LightGBM Model
â° Started at: 2025-11-12 02:03:28 PKT
============================================================
ğŸš€ Starting AQI LGBM Training Pipeline
============================================================
ğŸ“ Attempting to load data from RandomForest CSV first...
âŒ No RandomForest CSV files found, trying general CSV files...
ğŸ”— Connecting to Hopsworks project: anassale
2025-11-12 02:03:28,096 INFO: Closing external client and cleaning up certificates.
Connection closed.
2025-11-12 02:03:28,098 INFO: Initializing external client
2025-11-12 02:03:28,098 INFO: Base URL: https://c.app.hopsworks.ai:443
2025-11-12 02:03:28,775 INFO: Python Engine initialized.
Traceback (most recent call last):
  File "/home/runner/work/aqi-predictor-10-pearls/aqi-predictor-10-pearls/aqi_lgbm_training_pipeline.py", line 872, in main
    print(f"\nğŸ† Best model from split {best_split + 1} with RMSE: {best_score:.4f}")
                                        ^^^^^^^^^^
UnboundLocalError: cannot access local variable 'best_split' where it is not associated with a value

Logged in to project, explore it here https://c.app.hopsworks.ai:443/p/1263764
âœ… Successfully connected to Hopsworks
âœ… Latest version of karachifeatures10: 7
ğŸ“¥ Retrieving features from: karachifeatures10 (v7)
ğŸ“‹ Retrieving all records...
Reading data from Hopsworks, using Hopsworks Feature Query Service.   Reading data from Hopsworks, using Hopsworks Feature Query Service..   Finished: Reading data from Hopsworks, using Hopsworks Feature Query Service (0.58s) 
ğŸ”„ Sorting data by datetime for chronological order...
âœ… Successfully retrieved 19 records
ğŸ“Š Shape: (19, 25)
ğŸ”§ Preprocessing data...
   ğŸ§¹ Handling missing values...
   ğŸ“Š Ensuring engineered features are properly calculated...
   â• Creating lag features for pollutants...
   â• Creating lag features for pm2_5_nowcast...
   â• Creating lag features for pm10_nowcast...
   â• Creating lag features for co_ppm_8hr_avg...
   â• Creating lag features for no2_ppb...
   âœ… After preprocessing: 19 records
ğŸ“Š Final dataset shape: (19, 22)
ğŸ¯ Target variable range: 63.0 - 66.0
ğŸ“Š Creating time series splits...
âš ï¸ Skipping split - insufficient training data: 4 samples
âš ï¸ Skipping split - insufficient training data: 7 samples
âš ï¸ Skipping split - insufficient training data: 10 samples
âš ï¸ Skipping split - insufficient training data: 13 samples
âš ï¸ Skipping split - insufficient training data: 16 samples
âœ… Created 0 time series splits
âŒ Pipeline failed: cannot access local variable 'best_split' where it is not associated with a value

âœ… LightGBM training completed successfully!
   Result: None

============================================================
ğŸš€ Training XGBoost Model
â° Started at: 2025-11-12 02:03:34 PKT
============================================================
ğŸš€ Starting AQI XGBoost Training Pipeline...
============================================================
ğŸ“ Output directory: xgboost_additional/11_12_2025_0203_pkt

ğŸ“Š Step 1: Fetching data from Hopsworks...
ğŸ“ Attempting to load data from RandomForest CSV first...
âŒ No RandomForest CSV files found, trying general CSV files...
ğŸ”— Connecting to Hopsworks project: anassale
2025-11-12 02:03:34,749 INFO: Closing external client and cleaning up certificates.
Connection closed.
2025-11-12 02:03:34,751 INFO: Initializing external client
2025-11-12 02:03:34,751 INFO: Base URL: https://c.app.hopsworks.ai:443
2025-11-12 02:03:35,434 INFO: Python Engine initialized.
Traceback (most recent call last):
  File "/home/runner/work/aqi-predictor-10-pearls/aqi-predictor-10-pearls/aqi_xgboost_training_pipeline.py", line 819, in main
    raise ValueError("âŒ No valid time series splits created")
ValueError: âŒ No valid time series splits created

Logged in to project, explore it here https://c.app.hopsworks.ai:443/p/1263764
âœ… Successfully connected to Hopsworks
âœ… Latest version of karachifeatures10: 7
ğŸ“¥ Retrieving features from: karachifeatures10 (v7)
ğŸ“‹ Retrieving all records...
Reading data from Hopsworks, using Hopsworks Feature Query Service.   Reading data from Hopsworks, using Hopsworks Feature Query Service..   Finished: Reading data from Hopsworks, using Hopsworks Feature Query Service (0.61s) 
ğŸ”„ Sorting data by datetime for chronological order...
âœ… Successfully retrieved 19 records
ğŸ“Š Shape: (19, 25)

ğŸ”§ Step 2: Preprocessing data...
ğŸ”§ Preprocessing data...
   ğŸ§¹ Handling missing values...
   ğŸ“Š Ensuring engineered features are properly calculated...
   â• Creating lag features for pollutants...
   â• Creating lag features for pm2_5_nowcast...
   â• Creating lag features for pm10_nowcast...
   â• Creating lag features for co_ppm_8hr_avg...
   â• Creating lag features for no2_ppb...
   âœ… After preprocessing: 19 records

ğŸ“Š Step 3: Creating time series splits...
ğŸ“Š Creating time series splits...
âš ï¸ Skipping split - insufficient training data: 4 samples
âš ï¸ Skipping split - insufficient training data: 7 samples
âš ï¸ Skipping split - insufficient training data: 10 samples
âš ï¸ Skipping split - insufficient training data: 13 samples
âš ï¸ Skipping split - insufficient training data: 16 samples
âœ… Created 0 time series splits

âŒ Error in training pipeline: âŒ No valid time series splits created

âœ… XGBoost training completed successfully!
   Result: (None, None, None)

======================================================================
ğŸ“Š TRAINING SUMMARY
======================================================================
â° Completed at: 2025-11-12 02:03:41 PKT
âœ… Successful: 3/3 models
   âœ… RandomForest
   âœ… LightGBM
   âœ… XGBoost

ğŸ‰ All models trained successfully!
2025-11-12 02:03:41,237 INFO: Closing external client and cleaning up certificates.
Connection closed.
